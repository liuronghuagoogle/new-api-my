在你的项目目录（docker-compose.yml 所在目录）运行：
# 导出整个数据库到当前目录下的 backup.sql 文件
docker compose exec -T postgres pg_dump -U root -d new-api > backup.sql
docker exec -t postgres pg_dump -U root -d new-api > backup.sql

scp "备份数据库\backup.sql" root@3.145.148.125:/root/new-api/backup.sql

导入数据库：
docker exec -i postgres psql -U root -d new-api < "backup.sql"
cat backup.sql | docker exec -i postgres psql -U root -d new-api

# 1. 更新远程信息
git fetch origin

# 2. 强制检出该文件，用远程版本覆盖本地版本
git checkout origin/main -- docker-compose.yml

scp -i "备份数据库\aws\12.pem" "备份数据库\import_data.sql" ubuntu@3.145.148.125:/home/ubuntu/import_data.sql

# 再次清空确保干净（虽然应该已经空了，但为了保险）
sudo docker exec -i postgres psql -U root -d new-api -c "DROP SCHEMA public CASCADE; CREATE SCHEMA public;"

# 导入完整的原始备份
cat backup.sql | sudo docker exec -i postgres psql -U root -d new-api





